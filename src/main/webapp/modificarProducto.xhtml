<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<head>
<meta charset="ISO-8859-1"></meta>
<title>Modificar Producto</title>
<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
</head>
<style type="text/css">
body {
	background-image: url(imagenes/Accenture3.png);
	background-position: center center;
	background-repeat: no-repeat;
	background-attachment: fixed;
	background-size: cover;
}
</style>
<body>
	<ui:include src="/WEB-INF/barraSuperior.xhtml"></ui:include>
	<DIV class="container-fluid">
		<div class="row">
			<br /> <br /> <br /> <br /> <br />
		</div>
		<DIV class="row text-center">
			<DIV class="col-md-8 col-md-offset-2 bg-primary">
				<H1>Modificar Producto</H1>
				<H6>Ingrese nombre del producto a modificar :</H6>

				<h:form class="form-group text-center">

					<h:inputText id="search"
						value="#{modificarProductoCtrl.producto.nombre}"
						style="color: black;"></h:inputText>

					<h:commandButton for="search" value="Buscar"
						action="#{modificarProductoCtrl.buscarPorNombre}"
						styleClass="btn btn-success text-right">
					</h:commandButton>
				</h:form>
			</DIV>



			<div class="col-md-8 col-md-offset-2 bg-info">
				<br /> <br />
				<h:form>
					<h:dataTable id="table" value="#{modificarProductoCtrl.producto}"
						var="p"
						styleClass="table table-striped table-bordered dt-responsive nowrap text-center"
						headerClass="order-table-header text-center"
						rowClasses="order-table-odd-row,order-table-even-row">
						<h:column>
							<f:facet id="idProducto" name="header">
										ID
									</f:facet>
							#{p.idProducto}
						</h:column>
						<h:column>
							<f:facet id="nombre" name="header">
										Nombre
									</f:facet>
							#{p.nombre}						
						</h:column>
						<h:column>
							<f:facet id="marca" name="header">
										Marca
									</f:facet>
							#{p.marca}						
						</h:column>
						<h:column>
							<f:facet id="categoria" name="header">
										Categoria
									</f:facet>
							#{p.categoria}						
						</h:column>
						<h:column>
							<f:facet id="stock" name="header">
										Stock
									</f:facet>
							<h:outputText value="#{p.stock}"
								rendered="#{!modificarProductoCtrl.flag}"></h:outputText>
							<h:inputText value="#{p.stock}" required="true"
								rendered="#{modificarProductoCtrl.flag}"></h:inputText>
						</h:column>
						<h:column>
							<f:facet id="precio" name="header">
										Precio
									</f:facet>
							<h:outputText value="#{p.precio}"
								rendered="#{!modificarProductoCtrl.flag}"></h:outputText>
							<h:inputText value="#{p.precio}" required="true"
								rendered="#{modificarProductoCtrl.flag}"></h:inputText>

						</h:column>
						<h:column>
							<f:facet id="minstock" name="header">
										Stock Minimo
									</f:facet>

							<h:outputText value="#{p.minstock}"
								rendered="#{!modificarProductoCtrl.flag}"></h:outputText>
							<h:inputText value="#{p.minstock}" required="true"
								rendered="#{modificarProductoCtrl.flag}"></h:inputText>

						</h:column>
						<h:column>
							<f:facet id="botones" name="header">
							</f:facet>
							<h:commandButton value="Modificar"
								rendered="#{!modificarProductoCtrl.flag}"
								action="#{modificarProductoCtrl.habilitarModificar}"
								styleClass="btn btn-success"></h:commandButton>

							<h:commandButton value="Guardar"
								rendered="#{modificarProductoCtrl.flag}"
								action="#{modificarProductoCtrl.modificarProducto}"
								styleClass="btn btn-success"></h:commandButton>

							<h:commandButton value="Cancelar"
								rendered="#{modificarProductoCtrl.flag}"
								action="#{modificarProductoCtrl.cancelarModificar}"
								styleClass="btn btn-default"></h:commandButton>

						</h:column>

					</h:dataTable>
					<H1>
						<h:outputText value="#{modificarProductoCtrl.mensaje}" />
					</H1>
					<h:commandButton value="Volver"
						action="#{modificarProductoCtrl.volver}"
						styleClass="btn btn-default"></h:commandButton>
				</h:form>
			</div>
		</DIV>
		<div class="row">
			<br /> <br /> <br /> <br /> <br /> <br />
		</div>

	</DIV>
</body>
<footer id="footer">
	<ui:include src="/WEB-INF/barraInferior.xhtml" />
</footer>
</html>